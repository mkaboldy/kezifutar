<div class="container location">
      <div class="jumbotron">
            <div *ngIf="!(positionAcquired || positionError) ">
                  <div class="alert alert-primary">{{ 'LOCATION.PLS_ALLOW_ACCESS' | translate}}</div>
                  <app-common-spinner [text]="'LOCATION.DETECTING' | translate"></app-common-spinner>
            </div>
            <div *ngIf="positionError">
                  <div class="alert alert-secondary" >
                        {{ 'LOCATION.CANNOT_DETECT' | translate}} <small><i>({{ positionError.message }})</i></small>
                  </div>
                  <p>{{ 'LOCATION.CHOSE_LOCATION' | translate}}</p>
            </div>
            <div *ngIf="positionAcquired">
                  <div *ngIf="availableStops">
                        <h4>{{ 'LOCATION.STATIONS_NEAR' | translate}}</h4>
                        <ul>
                              <li *ngFor="let stop of availableStops">                        
                                    <a (click)="collapseNav()" class="stop {{stop.stopColorType}}" routerLink="/departures/{{stop.id}}">
                                          <span *ngIf="appState.selectedStop['id'] === stop.id">&raquo;</span>
                                          {{ stop.name }}
                                          <span *ngIf="appState.selectedStop['id'] === stop.id">&laquo;</span>
                                    </a>
                              </li>
                        </ul>
                  </div>
                  <div *ngIf="!availableStops.length">
                        <div class="alert alert-secondary">
                              {{ 'LOCATION.NO_STATION_FOUND' | translate}}
                        </div>            
                  </div>
                  <div *ngIf="!(availableStops || loadError)">
                        <app-common-spinner [text]=" 'LOCATION.DISCOVERING' | translate"></app-common-spinner>
                  </div>
                  <div *ngIf="loadError">
                        <div class="text-center">
                              <div class="alert alert-secondary" role="alert">
                                    <i class="fa fa-frown-o fa-2x" style="font-size: 20px; color: orange; margin-right: 5px;"></i> 
                                    {{ 'LOCATION.UNABLE_TO_LOAD_STATIONS' | translate}}
                              </div>
                        </div>                        
                  </div>
            </div>
            <div *ngIf="positionAcquired || positionError">
                  <app-popular-locations [parent]="this"></app-popular-locations>
            </div>
      </div>
</div>